{
  "$schema": "./node_modules/@biomejs/biome/configuration_schema.json",
  "extends": ["ultracite/core", "@sablier/devkit/biome/base"],
  "files": {
    "includes": [
      "**/*.{graphql,js,json,jsonc,ts}",
      "!envio/**/bindings/**/*",
      "!graph/**/bindings/**/*"
    ]
  },
  "linter": {
    "rules": {
      "complexity": {
        "noExcessiveCognitiveComplexity": "off" // TODO: enable later
      },
      "style": {
        "noNestedTernary": "off"
      }
    }
  },
  "overrides": [
    /* -------------------------------------------------------------------------- */
    /*                                YAML CODEGEN                                */
    /* -------------------------------------------------------------------------- */
    {
      "includes": [
        "cli/commands/codegen/envio-config/**/*.ts",
        "cli/commands/codegen/graph-manifest/**/*.ts"
      ],
      "assist": { "actions": { "source": { "useSortedKeys": "off" } } }
    },
    /* -------------------------------------------------------------------------- */
    /*                                   GRAPHQL                                  */
    /* -------------------------------------------------------------------------- */
    // Re-enable formatting for envio graphql files (ultracite disables it by default)
    {
      "includes": ["**/*.graphql"],
      "formatter": { "enabled": true },
      "linter": {
        "enabled": true,
        "rules": {
          "style": {
            // We use PascalCase for enum values, not ALL_CAPS
            "useGraphqlNamingConvention": "off"
          }
        }
      }
    },
    /* -------------------------------------------------------------------------- */
    /*                               ASSEMBLYSCRIPT                               */
    /* -------------------------------------------------------------------------- */
    {
      "includes": ["graph/**/*.ts"],
      "linter": {
        "rules": {
          "complexity": { "useOptionalChain": "off" },
          "style": { "useForOf": "off", "useImportType": "off" },
          "suspicious": {
            "noDoubleEquals": "off",
            "noShadowRestrictedNames": "off"
          }
        }
      }
    },
    /* -------------------------------------------------------------------------- */
    /*                               ENVIO MAPPINGS                               */
    /* -------------------------------------------------------------------------- */
    {
      "includes": ["**/mappings/**/*"],
      "linter": {
        "rules": {
          "style": {
            "useFilenamingConvention": "off"
          }
        }
      }
    },
    /* -------------------------------------------------------------------------- */
    /*                                    TESTS                                   */
    /* -------------------------------------------------------------------------- */
    {
      "includes": ["**/tests/**/*.ts"],
      "linter": {
        "rules": {
          "style": {
            "noNonNullAssertion": "off"
          }
        }
      }
    }
  ]
}
