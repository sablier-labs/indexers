type Revenue @entity(immutable: false) {
  """
  Unique identifier: `revenue-{chainId}-date-{date}`.
  """
  id: ID!

  """
  The total amount of revenue accrued on the given date, denominated in the chain's native token (e.g., ETH on Mainnet).
  The value is normalized to 18 decimals (e.g., 0.1e18 is 0.1).
  """
  amount: Float!

  """
  The chain ID where the revenue has accrued.
  """
  chainId: BigInt!

  """
  The chain's native token symbol (e.g., ETH on Mainnet).
  """
  currency: String!

  """
  Date in the format YYYY-MM-DD.
  """
  date: String!

  """
  Like the `date` but as a timestamp type (for sorting purposes).
  """
  dateTimestamp: Timestamp!

  """
  List of revenue transactions for this date.
  """
  transactions: [RevenueTransaction!]! @derivedFrom(field: "revenue")
}

type RevenueTransaction @entity(immutable: true) {
  """
  Unique identifier: `{revenueId}-tx-{txHash}`
  """
  id: ID!

  """
  The amount of revenue from this transaction, denominated in the chain's native token.
  """
  amount: Float!

  """
  Block number of the transaction.
  """
  block: BigInt!

  """
  Hash of the transaction.
  """
  hash: Bytes!

  """
  Reference to the daily revenue aggregate entity.
  """
  revenue: Revenue!

  """
  Unix timestamp of the transaction.
  """
  timestamp: BigInt!
}
